<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="as_pdf_report_solicitud_compras">
            <t t-call="web.html_container">
                <div class="header">
                    <style type="text/css">
                        .header {
                            margin: 0px 0px 0px 0px;
                            padding: 0px;
                        }
                    </style>
                    <div>
                        <br />
                        <br />
                        <table width="100%" style="border:1px solid #000000;">
                            <tr style="height:55px;">
                                <td style="width:40%;text-align:left;font-size:15px;vertical-align: middle;"
                                    rowspan="2">

                                    <img t-att-src="image_data_uri(o.env.user.company_id.logo)"
                                        style="width:100%;height:16%;margin-left:25px;" />

                                </td>
                                <td style="width:40%;">

                                </td>
                                <td style="width:20%;text-align:left;font-size:14px;vertical-align: middle; "
                                    rowspan="2">
                                    <br />
                                    <br />
                                    <b>FECHA: <span t-esc="o.obtener_fecha_actual()" /></b>

                                </td>
                            </tr>
                            <tr style="height:50px;">

                                <td style="width:40%;text-align:center;font-size:15px;vertical-align: middle;">

                                </td>

                            </tr>

                        </table>
                        <table width="100%" style="border:1px solid #000000;">

                            <tr style="height:50px;">

                                <td
                                    style="width:100%;text-align:center;font-size:20px;vertical-align: middle;border-top:0px solid #000000;">
                                    <b>SOLICITUD DE VACACIONES</b>
                                </td>

                            </tr>
                        </table>
                    </div>
                </div>
            </t>
            <t t-call="web.external_layout">
                <div class="page" style="font-family: 'Arial' !important; ">
                    <style type="text/css">
                        .page {
                            margin: 0px 0px 0px 0px;
                            padding: 0px;
                        }

                        .margenizq {
                            margin-left: 5px;
                        }
                    </style>
                    <div>
                        <div style="">
                            <table border="1" width="100%">
                                <thead>
                                    <tr>
                                        <td style="text-align: left; border:1px solid grey;font-size:15px;vertical-align: middle;height:50px;"
                                            colspan="2">
                                            <b style="margin-left:5px;color:black;">APELLIDOS Y NOMBRES:</b> <span
                                                t-esc="o.employee_id.name" />

                                        </td>
                                    </tr>
                                </thead>
                            </table>

                        </div>
                        <div>

                            <table
                                style="float: left;text-align: left; border:0.5px solid black;font-size:15px;vertical-align: middle;height:50px;"
                                width="50%">
                                <tr>
                                    <td style="vertical-align: middle;"><b
                                            style="margin-left:5px;color:black;">CARGO:</b> <span
                                            t-esc="o.employee_id.job_title" /></td>
                                </tr>
                            </table>

                            <table width="50%"
                                style="text-align: left; border:0.5px solid black;font-size:15px;vertical-align: middle;height:50px;">
                                <tr>
                                    <td style="vertical-align: middle;"><b
                                            style="margin-left:5px;color:black;">SUCURSAL:</b> 
                                            <span
                                            t-esc="o.employee_id.as_sucursal_empleado.name" /></td>
                                </tr>
                            </table>
                        </div>
                        <div>

                            <table
                                style="float: left;text-align: left; border:0.5px solid black;font-size:15px;height:100px;"
                                width="50%">
                                <tr>
                                    <td style="vertical-align: middle;">
                                    <b style="margin-left:5px;color:black;">VACACIONES DEL PERIODO:</b> 
                                    <t t-esc="o.as_periodos" /></td>
                                </tr>
                            </table>

                            <table width="50%"
                                style="text-align: left; border:0.5px solid black;font-size:15px;vertical-align: middle;height:100px;">
                                <tr>
                                    <td style="vertical-align: middle;"><b style="margin-left:5px;color:black;">DIAS DE
                                            VACACIONES:</b>
                                        <t t-esc="o.as_saldo" /> Días
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div>

                            <table
                                style="float: left;text-align: left; border:0.5px solid black;font-size:15px;vertical-align: middle;height:50px;"
                                width="100%">
                                <tr>
                                    <td style="vertical-align: middle;"><b style="margin-left:5px;color:black;">SOLICITO
                                            VACACIONES DESDE: </b>
                                        <span t-esc="o.request_date_to.strftime('%d/%m/%Y')" /> <b>HASTA: </b> <span
                                            t-esc="o.request_date_from.strftime('%d/%m/%Y')" />
                                    </td>
                                </tr>
                            </table>
                        </div>
                        <div>
                            <table
                                style="float: left;text-align: left; border:0.5px solid black;font-size:15px;vertical-align: middle;height:150px;"
                                width="50%">
                                <tr>
                                    <td style="width:70%;vertical-align: middle;"><b
                                            style="margin-left:5px;color:black;">TOTAL DE
                                            DÍAS SOLICITADOS:</b>
                                        <br />
                                        <b style="font-size:8px;margin-left:50px;">(FAVOR LLENAR ESTE ESPACIO)</b>
                                    </td>
                                    <td style="width:30%;text-align:center;vertical-align: middle;font-size:15px;">
                                        <b style="font-size:15px;">
                                            <tspan t-esc="'{:,.0f}'.format(o.number_of_days)" style="font-size:30px;" />
                                        </b>
                                    </td>
                                </tr>
                                <tr style="border-top:0.5px solid black;">
                                    <td style="width:70%;vertical-align: middle;"><b
                                            style="margin-left:5px;color:black;">VACACIONES DEL PERIODO:</b>
                                        <br />
                                        <b style="font-size:8px;margin-left:40px;">(FAVOR LLENAR ESTE ESPACIO)</b>
                                    </td>
                                    <td style="width:30%;text-align:center;vertical-align: middle;font-size:15px;">
                                        <b style="font-size:15px;">
                                            <tspan t-esc="o.as_saldo" style="font-size:30px;" />
                                        </b>
                                    </td>
                                </tr>
                            </table>

                            <table width="50%"
                                style="text-align: center; border:0.5px solid black;font-size:15px;vertical-align: middle;height:150px;">
                                <tr>
                                    <td style="width:100%vertical-align: middle;" rowspan="2">

                                        <t
                                            t-if="env['hr.employee'].search([('id', '=', o.extraer_firma_solicitante())]).as_firma_archivo">
                                            <img t-if="env['hr.employee'].search([('id', '=', o.extraer_firma_solicitante())]).as_firma_archivo"
                                                t-att-src="image_data_uri(env['hr.employee'].search([('id', '=', o.extraer_firma_solicitante())]).as_firma_archivo)"
                                                style="height: 86px; width: 300px; text-align: center;margin-top:20px;" />
                                            <br />
                                            <b>..................................</b><br />
                                            <b style="color:black;">(f.) Empleado</b>
                                        </t>

                                        <t
                                            t-else="env['hr.employee'].search([('id', '=', o.extraer_firma_solicitante())]).as_firma_archivo">
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <b style="text-align: center;">..................................</b><br />
                                            <b style="color:black;">(f.) Empleado</b>
                                        </t>
                                    </td>
                                </tr>
                                <tr>
                                </tr>
                            </table>
                        </div>
                        <div>

                            <table
                                style="float: left;text-align: center; border:0.5px solid black;font-size:15px;height:180px;"
                                width="50%">
                                <tr>
                                    <td style="width:70%;">
                                        <br />
                                        <b style="color:black;">INFORME DEL JEFE INMEDIATO</b>
                                        <br />
                                        <br />
                                        <b style="font-size:18px;;">ACEPTADO</b>
                                        <br />
                                        <br />
                                        <b style="font-size:18px;;">DENEGADO</b>
                                    </td>
                                    <td style="width:30%;text-align:center;font-size:15px;">
                                        <br />
                                        <br />
                                        <table style="height:40px;" width="50%">
                                            <tr>
                                                <td style="width:70%;border:2px solid black;">
                                                    <t t-if="o.state == 'validate1'">
                                                        <b style="vertical-align: middle;font-size:25px;">X</b>
                                                    </t>

                                                </td>
                                                <td style="width:70%;">
                                                </td>
                                            </tr>
                                        </table>
                                        <table style="margin-top:15px; height:40px;" width="50%">
                                            <tr>
                                                <td style="width:70%;border:2px solid black;">

                                                    <t t-if="o.state == 'cancel'">
                                                        <b style="vertical-align: middle;font-size:25px;">X</b>
                                                    </t>
                                                </td>
                                                <td style="width:70%;">
                                                </td>

                                            </tr>
                                        </table>
                                    </td>
                                </tr>
                            </table>

                            <table width="50%"
                                style="text-align: center; border:0.5px solid black;font-size:15px;vertical-align: middle;height:180px;">
                                <tr>
                                    <td style="width:100%vertical-align: middle;">

                                        <t
                                            t-if="env['hr.employee'].search([('id', '=', o.extraer_firma_responsable())]).as_firma_archivo">
                                            <img t-if="env['hr.employee'].search([('id', '=', o.extraer_firma_responsable())]).as_firma_archivo"
                                                t-att-src="image_data_uri(env['hr.employee'].search([('id', '=', o.extraer_firma_responsable())]).as_firma_archivo)"
                                                style="height: 96px; width: 300px; text-align: center;margin-top:20px;" />
                                            <br />
                                            <b>..................................</b><br />
                                            <b style="color:black;">(f.) Jefe inmediato</b>
                                        </t>

                                        <t
                                            t-else="env['hr.employee'].search([('id', '=', o.extraer_firma_responsable())]).as_firma_archivo">
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <br />
                                            <b style="text-align: center;">..................................</b><br />
                                            <b style="color:black;">(f.) Jefe inmediato</b>
                                        </t>
                                    </td>
                                </tr>

                            </table>
                        </div>
                        <div style="">
                            <table border="1" width="100%">
                                <thead>
                                    <tr>
                                        <td style="text-align: left; border:1px solid black;font-size:18px;vertical-align: middle;height:50px;text-align:center;"
                                            colspan="2">
                                            ESPACIO PARA SER LLENADO POR LA GERENCIA GENERAL

                                        </td>
                                    </tr>
                                </thead>
                            </table>

                        </div>
                        <div style="">
                            <table border="1" width="100%">
                                <thead>
                                    <tr style="">
                                        <td style="text-align: left; border:1px solid black;font-size:16px;height:60px;text-align:left;"
                                            colspan="2">
                                            <p style="margin-left:10px;">Autorizo a : <b><span
                                                        t-esc="o.employee_id.name" /></b> para que haga uso de sus
                                                vacaciones de <b>
                                                    <t t-esc="'{:,.0f}'.format(o.number_of_days)" /></b> días a las que
                                                tiene derecho, <b>desde</b> el 
                                                <span t-esc="o.request_date_to.strftime('%d/%m/%Y')" /> ,
                                                <b>hasta el </b><span t-esc="o.request_date_from.strftime('%d/%m/%Y')" /></p>
                                            
                                        </td>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div>
                            <table width="100%">
                                <thead>
                                    <tr>
                                        <td style="text-align:center;border:1px solid black;font-size:16px;height:50;"
                                            colspan="2">
                                            <p style="margin-left:10px;text-align:left;">Estas vacaciones se aplican al período
                                                vacacional de las labores cumplidas en el año:<t t-esc="o.as_periodos" /></p>
                                            
                                            <!-- firma gerente -->
                                            <t t-if="env['hr.employee'].search([('id', '=', 267)]).as_firma_archivo">
                                                <img t-if="env['hr.employee'].search([('id', '=', 267)]).as_firma_archivo"
                                                    t-att-src="image_data_uri(env['hr.employee'].search([('id', '=', 267)]).as_firma_archivo)"
                                                    style="height: 96px; width: 300px; text-align: center;margin-top:5px;" />
                                                <br />
                                                <b>..................................</b><br />
                                                <b style="color:black;">Autorizado</b>
                                            </t>
                                            <t
                                                t-else="env['hr.employee'].search([('id', '=', 267)]).as_firma_archivo">
                                                <br />
                                                <br />
                                                <br />
                                                <br />
                                                <br />
                                                <b style="text-align: center;">..................................</b><br />
                                                <b style="color:black;">Autorizado</b>
                                            </t>
                                        </td>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div>
                            <table width="100%">
                                <thead>
                                    <tr>
                                        <td style="border:1px solid black;font-size:18px;height:30px;text-align: center;vertical-align: middle;"
                                            colspan="2">
                                            GERENTE GENERAL
                                        </td>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                        <div>
                            <table width="100%">
                                <thead>
                                    <tr>
                                        <td style="border:1px solid black;font-size:16px;height:30px;text-align: center;vertical-align: middle;"
                                            colspan="2">

                                        </td>
                                    </tr>
                                </thead>
                            </table>
                        </div>

                    </div>
                </div>
            </t>
        </template>

        <template id="as_report_vacations_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-call="as_bo_hr_ausencias.as_pdf_report_solicitud_compras" t-lang="lang" />
                </t>
            </t>
        </template>
    </data>
</odoo>