<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="view_om_account_asset_inherit">
            <field name="name">account.asset.asset.form.inherit</field>
            <field name="inherit_id" ref="om_account_asset.view_account_asset_asset_form" />
            <field name="model">account.asset.asset</field>
            <field eval="17" name="priority" />
            <field name="arch" type="xml">
                <xpath expr="//div[@class='oe_button_box']" position="inside">
                    <button name="action_request_sale" type="object" class="oe_stat_button" icon="fa-briefcase">
                        <field name="as_sale_count" widget="statinfo" string="Ventas" />
                    </button>
                     <button class="oe_stat_button" name="action_view_asiento" type="object" icon="fa-pencil-square-o">
                    <field string="Asiento" name="as_asiento_count" widget="statinfo" />
                </button>
                     <button name="action_request_purchase" type="object" class="oe_stat_button" icon="fa-briefcase">
                        <field name="as_purchase_count" widget="statinfo" string="Compras" />
                    </button>
                </xpath>
                 <xpath expr="//button[@name='set_to_close']" position="attributes">
                <attribute name="invisible">True</attribute>
            </xpath>
                <xpath expr="//field[@name='depreciation_line_ids']/tree/field[@name='remaining_value']"
                    position="after">
                    <field name="as_value" />
                    <field name="as_ufv_inicial" />
                    <field name="as_ufv_final" />
                    <field name="as_value" />
                    <field name="as_updates" />
                    <field name="as_value_updates" />
                    <field name="as_depreciation_store" />
                    <field name="as_depreciation_update" />
                    <field name="as_factor" optional="hide" />
                    <field name="as_factor_ufvs" optional="hide" />
                    <field name="as_update_depreciation" />
                    <field name="as_depreciation_periodo" />
                    <field name="as_depreciation_end" />
                    <field name="as_valor_neto" />
                </xpath>
                <xpath expr="//field[@name='depreciation_line_ids']/form//field[@name='remaining_value']"
                    position="after">
                    <field name="move_id2" />
                    <field name="move_id3" />

                </xpath>
                <xpath expr="//notebook/page[2]" position="inside">
                    <group string="Campos">
                        <field name="as_date_depreciacion" />
                        <field name="as_depre_anterior" />
                        <field name="as_dias_activo" />
                        <field name="as_account_move" />
                        <field name="as_asentado" />
                        <field name="as_block" invisible="True" />
                    </group>
                    <group string="Montos para asientos">
                        <field name="as_amount" />
                        <field name="as_amount_sale_value" />
                        <field name="as_amount_sale_update" />
                        <field name="as_amount_sale" />
                        <field name="as_account_sale_ids" widget="many2many_tags" />
                    </group>


                </xpath>
                <xpath expr="//field[@name='category_id']" position="before">
                        <field name="product_id" />
                </xpath>

                <xpath expr="//field[@name='state']" position="attributes">
                    <attribute name="statusbar_visible">draft,open,sale,discharged</attribute>
                </xpath>
                <xpath expr="//button[@name='validate']" position="after">
                    <button name="action_draft" string="Volver Borrador" type="object" class="oe_highlight"
                         attrs="{'invisible': ['|',('state','!=','open'),('as_asentado','=',True)]}" />
                    <button name="action_open" string="volver a Abrir" type="object" class="oe_highlight"
                        states="discharged,sale" />
                </xpath>
                <xpath expr="//button[@name='validate']" position="after">
                    <button class="btn-primary" type="action" name="%(as_action_assets_ajuste)d" states="open"
                        string="AJUSTES OPERATIVOS" />
                    <button class="btn-primary" type="object" name="as_state_close" states="open"
                        string="Dar de Baja" />
                </xpath>
                 <xpath expr="//button[@name='set_to_draft']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>   
                <xpath expr="//button[@name='set_to_close']" position="after">
                     <button class="btn-primary" type="object" name="as_get_ufvs_update" states="open"
                        string="Actualizar UFVs" />
                </xpath>
                <xpath expr="//field[@name='depreciation_line_ids']/tree//field[@name='remaining_value']"
                    position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='depreciation_line_ids']/tree//field[@name='depreciated_value']"
                    position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
                <xpath expr="//field[@name='depreciation_line_ids']/tree//field[@name='amount']" position="attributes">
                    <attribute name="invisible">1</attribute>
                </xpath>
            </field>
        </record>
    </data>
    <menuitem id="as_assets_report_menu" name="Reporte Activos Fijos" parent="account.menu_finance_reports"
        sequence="60" />
</odoo>