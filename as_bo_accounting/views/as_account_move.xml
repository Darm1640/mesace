<?xml version="1.0" encoding="utf-8"?>
<odoo>
       <record id="as_account_amove_view" model="ir.ui.view">
            <field name="name">as.account.view.account.view.cuentas.por.pagar</field>
            <field name="model">account.move</field>
            <field name="inherit_id" ref="account.view_move_form" />
            <field name="arch" type="xml">
                <xpath expr="//field[@name='invoice_incoterm_id']" position="after">
                    <field name="as_contable" />
                    <field name="as_si_contable" />
                </xpath>
                <!-- <xpath expr="//page[@id='aml_tab']" position="after">
                    <field name="as_contable" />
                </xpath> -->
                 <page id="aml_tab" position="attributes">
                      <attribute name="attrs">{'invisible': [('as_contable', '=', True)]}</attribute>
                </page>
                   <xpath expr="//field[@name='line_ids']//tree/field[@name='account_id']"  position="attributes">
                      <attribute name="domain">[('as_is_movimiento', '=', True)]</attribute>
                    </xpath>
                <xpath expr="//button[@name='button_cancel']" position="after">
                    <button name="as_cancel_move" class="btn btn-primary" string="Anular" states="posted,Regularizar"
                        type="object" />
              
                </xpath>
              <xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='discount']" position="after">
                <field name="as_discount_amount" force_save="1" />
                <field name="as_contable" invisible="1" />
            </xpath>
            <xpath expr="//field[@name='invoice_line_ids']/tree/field[@name='price_total']" position="after">
                <field name="as_placa" force_save="1" optional="hide" />
            </xpath>
              <xpath expr="//field[@name='line_ids']/tree/field[@name='discount']" position="after">
                <field name="as_discount_amount" force_save="1" />
                <field name="as_placa" force_save="1" optional="hide"/>
                <field name="as_contable" invisible="1" />
            </xpath>
            </field>
        </record>

        <record id="as_view_journal_secuencia_vista_arbol" model="ir.ui.view">
    <field name="name">account.move.inherit.tree</field>
    <field name="model">account.move</field>
    <field name="type">form</field>
    <field name="inherit_id" ref="account.view_move_tree" />
    <field name="arch" type="xml">
      <xpath expr="//field[@name='journal_id']" position="before">
        <field name="as_secuencia_id" />
      </xpath>
    </field>
  </record>

        <record id="as_view_account_move_line" model="ir.ui.view">
    <field name="name">account.move.line.inherit.tree</field>
    <field name="model">account.move.line</field>
    <field name="type">form</field>
    <field name="inherit_id" ref="account.view_move_line_tree" />
    <field name="arch" type="xml">
      <xpath expr="//field[@name='parent_state']" position="before">
        <field name="as_contable" />
      </xpath>
    </field>
  </record>
  
<record id="as_view_journal_secuencia_vista_form" model="ir.ui.view">
    <field name="name">account.move.inherit.formus</field>
    <field name="model">account.move</field>
    <field name="type">form</field>
    <field name="inherit_id" ref="account.view_move_form" />
    <field name="arch" type="xml">
      <!-- <xpath expr="//page[@id='other_tab']//group/group/field[@name='to_check']" position="after"> -->
      <xpath expr="//field[@name='ref']" position="before">
        <field name="as_secuencia_id" />
      </xpath>
    </field>
  </record>

  <record id="as_search_journal_secuencia_filter" model="ir.ui.view">
      <field name="name">account.search.inherit.tree</field>
      <field name="model">account.move</field>
      <field name="type">form</field>
      <field name="inherit_id" ref="account.view_account_move_filter" />
      <field name="arch" type="xml">
        <xpath expr="//search/group" position="inside">
           <filter string="Secuencia" name="as_secuencia_id" domain="[]" context="{'group_by':'as_secuencia_id'}"/>
        </xpath>
      </field>
    </record>

        <record id="account.action_move_journal_line" model="ir.actions.act_window">
            <field name="name">Asientos Contables</field>
            <field name="res_model">account.move</field>
            <field name="view_mode">tree,kanban,form</field>
            <field name="view_id" ref="account.view_move_tree"/>
            <field name="domain">[('as_contable', '=', False)]</field>
            <field name="search_view_id" ref="account.view_account_move_filter"/>
            <field name="context">{'default_move_type': 'entry','default_as_contable': False, 'search_default_misc_filter':1, 'view_no_maturity': True}</field>
            <field name="help" type="html">
              <p class="o_view_nocontent_smiling_face">
                Crear una entrada de diario
              </p><p>
                Una entrada de diario consta de varios elementos de diario, cada uno de los cuales
                que es una transacción de débito o crédito.
              </p>
            </field>
        </record>
            <record id="account.action_account_moves_all_tree" model="ir.actions.act_window">
            <field name="name">Apuntes Contables</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="context">{'search_default_partner_id': [active_id], 'default_partner_id': active_id, 'search_default_posted':1,'default_as_contable': False,}</field>
            <field name="view_id" ref="account.view_move_line_tree"/>
        </record>

        <record id="account.action_account_moves_all" model="ir.actions.act_window">
            <field name="context">{'journal_type':'general', 'search_default_posted':1,'default_as_contable': False,}</field>
            <field name="name">Apuntes Contables</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')), ('move_id.state', '!=', 'cancel'),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree"/>
            <field name="view_mode">tree,pivot,graph,form,kanban</field>
        </record>
        <record id="account.action_account_moves_all_a" model="ir.actions.act_window">
            <field name="context">{'journal_type':'general', 'search_default_group_by_move': 1, 'search_default_posted':1, 'name_groupby':1, 'create':0,'default_as_contable': False}</field>
            <field name="name">Apuntes Contables</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped"/>
            <field name="view_mode">tree,pivot,graph,form,kanban</field>
        </record>

        <record id="account.action_account_moves_journal_sales" model="ir.actions.act_window">
            <field name="context">{'journal_type':'sales', 'search_default_group_by_move': 1, 'search_default_posted':1, 'search_default_sales':1, 'name_groupby':1, 'expand': 1,'default_as_contable': False}</field>
            <field name="name">Ventas</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_sales_purchases"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>

        <record id="account.action_account_moves_journal_purchase" model="ir.actions.act_window">
            <field name="context">{'journal_type':'purchase', 'search_default_group_by_move': 1, 'search_default_posted':1, 'search_default_purchases':1, 'name_groupby':1, 'expand': 1,'default_as_contable': False}</field>
            <field name="name">Compras</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_sales_purchases"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>

        <record id="account.action_account_moves_journal_bank_cash" model="ir.actions.act_window">
            <field name="context">{'journal_type':'bank', 'search_default_group_by_move': 1, 'search_default_posted':1, 'search_default_bank':1, 'search_default_cash':1, 'name_groupby':1, 'expand': 1,'default_as_contable': False}</field>
            <field name="name">Banco y Caja</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_bank_cash"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>

        <record id="account.action_account_moves_journal_misc" model="ir.actions.act_window">
            <field name="context">{'journal_type':'general', 'search_default_group_by_move': 1, 'search_default_posted':1, 'search_default_misc_filter':1, 'name_groupby':1, 'expand': 1,'default_as_contable': False}</field>
            <field name="name">Varios</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_misc"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>

        <record id="account.action_account_moves_ledger_general" model="ir.actions.act_window">
            <field name="context">{'journal_type':'general', 'search_default_group_by_account': 1, 'search_default_posted':1,'default_as_contable': False}</field>
            <field name="name">Libro Mayor</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_general"/>
            <field name="search_view_id" ref="account.view_account_move_line_filter_with_root_selection"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>

        <record id="account.action_account_moves_ledger_partner" model="ir.actions.act_window">
            <field name="context">{'journal_type':'general', 'search_default_group_by_partner': 1, 'search_default_posted':1, 'search_default_payable':1, 'search_default_receivable':1, 'search_default_unreconciled':1,'default_as_contable': False}</field>
            <field name="name">Libro Mayor de Empresas</field>
            <field name="res_model">account.move.line</field>
            <field name="domain">[('display_type', 'not in', ('line_section', 'line_note')),('as_contable','=',False)]</field>
            <field name="view_id" ref="account.view_move_line_tree_grouped_partner"/>
            <field name="search_view_id" ref="account.view_account_move_line_filter"/>
            <field name="view_mode">tree,pivot,graph</field>
        </record>
</odoo>