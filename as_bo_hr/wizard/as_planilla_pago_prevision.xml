<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="view_pago_prevision" model="ir.ui.view">
        <field name="name">Planilla de pago Previsión y Futuro</field>
        <field name="model">as.planilla.prevision</field>
        <field name="arch" type="xml">
            <form string="Planilla de pago Previsión">
                <group col="2">
                    <field name="as_payslip_run_id" domain="[('state','!=', 'cancel')]"
                            options="{&quot;always_reload&quot;: True, 'no_open': True,'no_create': 1, 'no_create_edit': 1}" />
                </group>                    

                <footer>
                    <button name="export_xls" 
                        default_focus="1"
                        string="Exportar a Excel" 
                        type="object" 
                        class="oe_highlight"
                        context="{'xls_export':1}" 
                        icon="fa-download"/>
                    <button string="Cancel" class="oe_link" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>

    <record id="as_action_planilla_pago_prevision_txt" model="ir.actions.act_window">
            <field name="name">Planilla de pago Previsión</field>
            <field name="res_model">as.planilla.prevision</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="view_pago_prevision" />
            <field name="target">new</field>
        </record>

    <report
        id="as_pago_prevision"
        model="hr.payslip.run"
        string="Pago y Prevision"
        report_type="xlsx"
        name="as_bo_hr.as_pago_prevision.xlsx"
        file="as_bo_hr.as_pago_prevision.xlsx"
        attachment_use="False" />
    </data>
</odoo>