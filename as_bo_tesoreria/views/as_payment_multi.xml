<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <!-- <record id="as_payment_multi_tree" model="ir.ui.view">
            <field name="name">Pago Multiple de Ventas</field>
            <field name="model">as.payment.multi</field>
            <field name="arch" type="xml">
                <tree decoration-info="state == 'confirm'" decoration-success="state == 'data'"
                    decoration-danger="state == 'cancel'" create="0" delete="1">
                    <field name="as_partner_id" />
                    <field name="journal_id" />
                    <field name="payment_acquirer_id" />
                    <field name="as_payment_type" />
                    <field name="as_is_anticipo" />
                    <field name="as_amount" sum="Total" />
                    <field name="state" />
                    <field name="as_tesoreria_id" />



                </tree>
            </field>
        </record> -->

        <record id="as_payment_multi_form_p" model="ir.ui.view">
            <field name="name">Pago Multiple de Ventas</field>
            <field name="model">as.payment.multi</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <field name="state" widget="statusbar" statusbar_visible="new,data,confirm,cancel" />
                    </header>
                    <sheet>
                        <h3>
                            <field name="name" readonly="True" />
                        </h3>
                        <group col="4">
                            <field name="journal_id" />
                            <field name="as_type" />
                            <field name="as_partner_id" />
                            <field name="as_payment_type" readonly="True" />
                            <field name="date" />
                            <field name="payment_acquirer_id" />
                            <field name="as_numero_documento"
                                attrs="{'invisible' : ['|','|',('as_metodo_pago_bolean', '=', 0),('as_is_credito', '=', True),('as_is_debit', '=', True)]}" />
                            <field name="as_bank_id"
                                attrs="{'invisible' : [('as_metodo_pago_bolean', '!=', 2)]}" />
                                <field name="as_cuotas"
                                attrs="{'invisible' : [('as_is_credito', '=', False),('as_is_debit', '=', False)]}" />  
                                <field name="as_code_authorization"
                                attrs="{'invisible' : [('as_is_credito', '=', False),('as_is_debit', '=', False)]}" />

                            <field name="currency_id" readonly="1" force_save= "1"/>
                            <field name="as_amount" />
                            <field name="as_amount_line" />
                            <field name="as_account_debit" attrs="{'invisible' : [('as_type', '!=', 'Otros')]}"/>
                            <field name="as_account_credit" attrs="{'invisible' : [('as_type', '!=', 'Otros')]}"/>
                            <field name="as_metodo_pago_bolean" invisible="True" />
                            <field name="as_is_credito" invisible="True" />
                            <field name="as_is_debit" invisible="True" />
                            <field name="as_tesoreria_id" invisible="True"/>
                            <field name="as_is_anticipo" invisible="True"/>
                            <field name="as_amounta" readonly="True" force_save="1" attrs="{'invisible': [('as_is_anticipo', '!=', True)]}"/>


                        </group>
                        <notebook attrs="{'invisible': [('as_type', 'in', ['anticipo','prestamos','quincena','Desembolso','Diferencia','quiquenio','individual','dividendo','multi_pago','asiento_asjuste','finiquito','Otros'])]}">
                            <!-- <page name="account_payments_anticipo" string="Anticipos" attrs="{'invisible': [('as_is_anticipo', '!=', True)]}">
                                <group>
                                </group>
                                <field name="payment_ids" attrs="{'invisible': [('as_is_anticipo', '!=', True)]}" options="{'no_create_edit': true, 'no_quick_create': true}">
                                    <tree editable="bottom">

                                        <field name="move_line_id" widget="many2many_tags" readonly="1" />
                                        <field name="currency_id" readonly="1" />
                                        <field name="amount_to_pay" readonly="1" sum="total" />
                                        <field name="is_pago" />
                                    </tree>
                                </field>
                            </page> -->
                            <page name="account_payments" string="Pagar" >
                                
                                <field name="as_sale_ids" options="{'reload_on_button': true}">
                                    <tree delete="1" editable="bottom"  decoration-success="state == 'posted'" 
                                        decoration-danger="state == 'cancelled'">
                                        <field name="name" readonly="True" />
                                        <field name="date" readonly="True" />
                                        <field name="as_sale_id" readonly="True" optional="hide"/>
                                        <field name="as_invoice_id" readonly="True" />
                                        <field name="as_amount_total" sum="total" readonly="1" />
                                        <field name="as_amount" sum="total" />
                                        <field name="as_analytic_account_id" />
                                        <field name="account_move_id" readonly="True" />
                                        <field name="account_movea_id" readonly="True" />
                                        <field name="state" readonly="True" />
                                        <!-- <button name="get_cancel_payment" icon="fa-archive" type="object"
                                            class="btn-primary" /> -->

                                    </tree>
                                </field>
                            </page>
                        </notebook>

                        <field name="as_nota" />
                        <group>
                        <field name="account_move_id" readonly="1"/>
                        <!-- <field name="as_amount_anticipo" readonly="1"/> -->
                        </group>
                    </sheet>
                 
                </form>
            </field>
        </record>

         <record id="as_payment_multi_action_p" model="ir.actions.act_window">
            <field name="name">Pago de Clientes</field>
            <field name="res_model">as.payment.multi</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="as_payment_multi_form_p"/>
        </record>
       <menuitem id="as_payment_multi_menu" parent="account.menu_finance_receivables" name="Pagos Multiples"
            sequence="100" action="as_payment_multi_action_p" />
    </data>
</odoo>