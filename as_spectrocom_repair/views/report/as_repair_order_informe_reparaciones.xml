<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="_informe_de_reparaciones_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="header">

                    </div>

                </t>
            </t>

            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o">
                    <style type="text/css">
                        .header {
                            margin: 0px;
                            padding: 0px;
                        }

                        .cabecera {
                            font-size: 7px;
                            font-family: 'Arial' !important;
                        }

                        .letra {
                            font-size: 10px !important;
                            margin: 0px;
                        }

                        letra1 {
                            font-size: 25px !important;
                            margin: 0px;
                            text-align: left;
                        }

                        .letra3 {
                            font-size: 15px !important;
                            margin: 0px;
                            padding-left: 3px !important;
                            padding-right: 3px !important;
                        }

                        .cabecera2 {
                            font-size: 9px;
                            font-family: 'Arial' !important;
                        }

                        .columnasr {
                            font-size: 10px;
                            font-family: 'Arial' !important;
                            margin-bottom: 10px;
                        }

                        .columnas2 {
                            font-size: 9px;
                            font-family: 'Arial' !important;
                        }

                        h3 {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        td {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        h4 {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        span {
                            font-family: 'Arial' !important;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        body {
                            font-family: 'Arial' !important;
                            font-size: 18px;
                        }

                        hr {
                            border-bottom: solid;
                            border-width: 1pt border-top:0px !important;
                            padding: 0px !important;
                            margin: 0px !important;
                        }

                        tr.border_bottom td {
                            border-bottom: 0.5pt solid #cccccc;
                            margin-right: 3px;
                            padding-right: 3px;
                            font-size: 13px;
                            font-family: 'Arial' !important;
                        }

                        .borde1 {
                            border-top: 1px solid grey;
                            border-left: 1px solid grey;
                            border-right: 1px solid grey;
                            border-bottom: 1px solid grey;
                            margin-bottom: 3px;
                        }

                        .borde2 {
                            border-left: 1px solid grey;
                            border-right: 1px solid grey;
                            border-top: 1px solid grey;
                            margin: 3px;
                        }

                        .titulo {
                            font-size: 25px;
                            padding-top: 40px;
                        }
                    </style>
                    <div class="row mt0 mb0 " id="as_header" style="margin-top:-30px;">
                        <div class="col-4" style="text-align:right; margin-bottom:10px;font-size:12px; width:30%;">
                            <img t-att-src="image_data_uri(o.env.user.company_id.logo)"
                                style="height: 150px; width: 280px;" />

                        </div>
                        <div class="col-5" style="text-align:center; width: 40%; margin-top:30px;" name='as_titulo'>
                            <div style="text-align: center; font-size: 25px;">
                                <table width="100%" class="table table-light"
                                    style="border-color: #F5FFFA; margin-left:0px;">
                                    <tr>
                                        <td style="font-size: 26px;">
                                            <b>REGISTRO</b>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="font-size: 26px;">
                                            <b>INFORME DE REPARACIONES</b>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="" style="width: 30%;text-align:left;">
                            <h4>
                                <div class="letra">
                                    <br />
                                </div>
                            </h4>
                            <h4>
                                <div class="letra">
                                    <br />
                                </div>
                            </h4>
                            <h4>
                                <div class="letra">
                                    <br />
                                </div>
                            </h4>
                            <h4>
                                <div class="letra">
                                    <br />
                                </div>
                            </h4>

                            <h4 style="">
                                <div style="text-align:left; font-size: 10px; line-height: 4px;margin-left:-10px;">
                                    <p><b>CODIGO:</b>
                                        <!-- <span t-esc="o.sale_id.user_id.partner_id.name" /> -->
                                    </p>
                                </div>
                            </h4>
                            <h4>
                                <div style="text-align:left; font-size: 10px; line-height: 4px;margin-left:-10px;">
                                    <p><b>VERSION:</b>
                                    </p>
                                </div>
                            </h4>
                            <h4>
                                <div style="text-align:left; font-size: 10px; line-height: 4px;margin-left:-10px;">
                                    <p><b>EDICION :</b>
                                        <!-- <t t-esc="o.location_id.name" /> -->
                                    </p>
                                </div>
                            </h4>

                        </div>
                    </div>
                    <div style="margin-top:-5px;margin-left:18px;margin-right:18px;">
                        <table width="100%" class="table table-light">
                            <tr>
                                <td style="text-align: left; font-size:12px; width:50%;">
                                    <b>FECHA:</b>
                                    <span t-esc="o.as_get_date_literal(o.as_date_recepcion)" />
                                </td>

                                <td style="text-align: left; font-size:12px; width:50%;">

                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left; font-size:12px; width:60%;">
                                    <b>CLIENTE: </b>
                                    <span t-esc="o.as_partner_id.name" />
                                </td>
                                <td style="text-align: left; font-size:12px; width:40%;">
                                    <b>Destino: </b>
                                    <span t-esc="o.as_location_dest_id.name" />
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left; font-size:12px; width:50%;">
                                    <b>Origen: </b>
                                    <!-- <span t-esc="o.sale_line_id.order_id.as_template_id.name"/> -->
                                    <span t-esc="o.as_location_id.name" />
                                </td>
                                <td style="text-align: left; font-size:12px; width:50%;">
                                    <b>Reparación: </b>
                                    <span t-esc="o.as_secuencia_reparaciones" />
                                    <!-- <t t-esc="o.sale_line_id.order_id.as_template_id.as_alias_lugar" /> -->
                                </td>


                            </tr>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="page" style="font-family: 'Arial' !important; ">
                        <style type="text/css">
                            .page {
                                margin: 0px;
                                padding: 0px;
                            }

                            .totales1 {
                                font-family: 'Arial' !important;
                                font-size: 25px;
                                font-weight: bold;
                                border-collapse: collapse;
                                border-top: solid;
                                border-width: 2pt
                            }

                            sale .totales2 {
                                font-family: 'Arial' !important;
                                font-size: 10px;
                                font-weight: bold;
                            }

                            .totales3 {
                                font-family: 'Arial' !important;
                                font-size: 25px;
                                font-weight: bold;
                                border-collapse: collapse;
                                border-top: solid;
                                border-bottom: solid;
                                border-width: 2pt
                            }

                            body {
                                font-family: 'Arial' !important;
                            }

                            .borde1 {
                                border: 1px solid grey;
                            }

                            .borde3 {
                                border-bottom: 1px solid grey;

                            }

                            .borde2 {
                                border: 1px solid grey;
                                border-radius: 8px 8px 8px 8px;
                                sale max-height: 2.5cm;
                                max-width: 2cm;
                            }

                            .borde_inferior {
                                margin-bottom: 5px;
                                margin-top: 5px;
                            }

                            .margen {
                                margin: 3px;
                            }

                            .tituloAzul {
                                font-size: 10;
                                text-align: center;
                                bottom: True;
                                top: True;
                                right: True;
                                left: True;
                                bold: True;
                                color: #ffffff;
                                background-color: #4682B4;
                            }
                        </style>
                        <div style="margin-left:18px;margin-right:18px;">
                            <table width="100%" id="header_table">
                                <thead>
                                    <tr>
                                        <td
                                            style="text-align: center; font-size:12px; width:15%;color: #fff;
                                        background-color: #0000CD;height:30px; border:1px solid black;vertical-align: middle;">
                                            <b>PRODUCTO</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:10%;color: #fff;
                                        background-color: #0000CD;height:30px; border:1px solid black;vertical-align: middle;">
                                            <b>N° DE SERIE</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:30%;color: #fff;
                                        background-color: #0000CD;height:30px; border:1px solid black;vertical-align: middle;">
                                            <b>REPARACIÓN</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:5%;color: #fff;
                                        background-color: #0000CD;height:30px; border:1px solid black;vertical-align: middle;">
                                            <b>TOTAL</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:10%;color: #fff;
                                        background-color: #0000CD;height:30px; border:1px solid black;vertical-align: middle;">
                                            <b>ESTADO</b>
                                        </td>
                                    </tr>
                                </thead>
                                <thead style='border:1px solid grey' id="body_table">
                                    <t t-set="weight" t-value="0.00" />
                                    <t t-set="amount_total" t-value="0" />

                                    <div t-foreach="o._lineas_ordenadas()" t-as="d" width="100%">
                                        <tr>

                                            <td
                                                style="text-align: left; font-size:12px; width:15%; border-color: black; border:1px solid black;vertical-align: middle;">
                                                <p t-esc="d.product_id.name"
                                                    style="padding-left: 7px;vertical-align: middle;"></p>
                                            </td>
                                            <td
                                                style="text-align: left; font-size:12px; width:10%; text-wrap: True; margin-right: auto; margin-left: 6px; border-color: black; border:1px solid black;">

                                                <tspan t-esc="d.lot_id.name" style="margin-left:6px;" />
                                            </td>
                                            <td style=" font-size:13px; width:30%; border:1px solid black;">
                                                <p t-esc="d.quotation_notes"
                                                    style="padding-left: 7px;vertical-align: middle;"></p>
                                            </td>
                                            <td
                                                style="text-align: right; font-size:12px; width:5%;  margin-right: 6px; border-color: black; border:1px solid black;vertical-align: middle;">
                                                <tspan t-esc="'{:,.2f}'.format(d.as_amount_total)"
                                                    style="margin-right:6px;vertical-align: middle;" />
                                            </td>
                                            <td
                                                style="text-align: center; font-size:12px; width:10%;  border:1px solid black;vertical-align: middle;">
                                                <t t-if="o.state == 'draft'">
                                                    <b style="vertical-align: middle;">COTIZACION</b>
                                                </t>
                                                <t t-if="o.state == 'confirmed'">
                                                    <b style="vertical-align: middle;">Confirmado</b>
                                                </t>
                                                <t t-if="o.state == 'under_repair'">
                                                    <b style="vertical-align: middle;">En reparacion</b>
                                                </t>
                                                <t t-if="o.state == 'ready'">
                                                    <b style="vertical-align: middle;">Listo para reparar</b>
                                                </t>
                                                <t t-if="o.state == '2binvoiced'">
                                                    <b style="vertical-align: middle;">Para ser facturado</b>
                                                </t>
                                                <t t-if="o.state == 'invoice_except'">
                                                    <b style="vertical-align: middle;">Excepcion de factura</b>
                                                </t>
                                                <t t-if="o.state == 'done'">
                                                    <b style="vertical-align: middle;">Procesado</b>
                                                </t>
                                                <t t-if="o.state == 'cancel'">
                                                    <b style="vertical-align: middle;">Cancelado</b>
                                                </t>
                                            </td>

                                        </tr>
                                        <t t-set="amount_total" t-value="amount_total + (d.as_amount_total)" />

                                    </div>

                                </thead>
                                <thead>
                                    <tr>
                                        <td colspan="3"
                                            style="text-align: center; font-size:12px; width:10%;
                                        margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;">
                                            <b>TOTAL</b>
                                        </td>
                                        <td colspan="1"
                                            style="text-align: right; font-size:12px; width:10%;
                                        text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;">
                                            <t t-if="o.as_pricelist_service_id.id == 1">
                                                <tspan t-esc="'{:,.2f}'.format(amount_total)"
                                                    style="margin-right:6px;" />BOB
                                            </t>
                                            <t t-if="o.as_pricelist_service_id.id == 2">
                                                <tspan t-esc="'{:,.2f}'.format(amount_total)"
                                                    style="margin-right:6px;" />USD
                                            </t>

                                            <t t-if="o.as_pricelist_service_id.id != 1">
                                                <t t-if="o.as_pricelist_service_id.id != 2">
                                                    <tspan t-esc="'{:,.2f}'.format(amount_total)"
                                                        style="margin-right:6px;" />
                                                    <tspan t-esc="o.as_currency_id.name" style="margin-right:6px;" />
                                                </t>
                                            </t>
                                        </td>
                                        <td colspan="1"
                                            style="text-align: center; font-size:12px; width:10%;
                                        text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;">
                                        </td>
                                    </tr>
                                </thead>


                            </table>
                            <br />


                        </div>
                        <div style="margin-top:30px;margin-left:15px;margin-right:15px;">

                            <br />
                            <br />
                            <br />
                            <br />
                            <table width="100%" class="table table-borderless">
                                <thead style='border:1px solid #FFFFFF;line-height : 20px;'>
                                    <tr>
                                        <td style="text-align: center; font-size:12px; width:20%;">
                                            <b> ____________________________________</b><br />
                                            <b> Firma</b><br />
                                            <b> Nombre</b><br />
                                            <b></b><br />
                                            <b> Responsable Espectrocom</b><br />
                                        </td>
                                        <td style="text-align: center; font-size:12px; width:20%;">
                                            <b> ____________________________________</b><br />
                                            <b> Firma</b><br />
                                            <b> Nombre</b><br />
                                            <b> </b><br />
                                            <b> Fiscal</b><br />
                                        </td>
                                        <td style="text-align: center; font-size:12px; width:20%;">
                                            <b> ____________________________________</b><br />
                                            <b> Firma</b><br />
                                            <b> Nombre</b><br />
                                            <b> </b><br />
                                            <b> Cliente</b><br />
                                        </td>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </t>
            </t>
        </template>
        <template id="as_reporte_reparaciones_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">

                    <t t-call="as_spectrocom_repair._informe_de_reparaciones_pdf" t-lang="lang" />
                </t>
                <p style="page-break-after:always;" />
            </t>
        </template>
    </data>
</odoo>