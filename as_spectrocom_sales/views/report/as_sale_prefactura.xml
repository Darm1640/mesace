<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="reporte_de_prefactura_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <div class="header">

                    </div>

                </t>
            </t>

            <t t-call="web.external_layout">
                <t t-foreach="docs" t-as="o">
                    <style type="text/css">
                        .header {
                            margin: 0px;
                            padding: 0px;
                        }

                        .cabecera {
                            font-size: 7px;
                            font-family: 'Arial' !important;
                        }

                        .letra {
                            font-size: 10px !important;
                            margin: 0px;
                        }

                        letra1 {
                            font-size: 25px !important;
                            margin: 0px;
                            text-align: left;
                        }

                        .letra3 {
                            font-size: 15px !important;
                            margin: 0px;
                            padding-left: 3px !important;
                            padding-right: 3px !important;
                        }

                        .cabecera2 {
                            font-size: 9px;
                            font-family: 'Arial' !important;
                        }

                        .columnasr {
                            font-size: 10px;
                            font-family: 'Arial' !important;
                            margin-bottom: 10px;
                        }

                        .columnas2 {
                            font-size: 9px;
                            font-family: 'Arial' !important;
                        }

                        h3 {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        td {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        h4 {
                            font-family: 'Arial' !important;
                            font-size: 12px;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        span {
                            font-family: 'Arial' !important;
                            margin: 0px !important;
                            padding: 0px !important;
                        }

                        body {
                            font-family: 'Arial' !important;
                            font-size: 18px;
                        }

                        hr {
                            border-bottom: solid;
                            border-width: 1pt border-top:0px !important;
                            padding: 0px !important;
                            margin: 0px !important;
                        }

                        tr.border_bottom td {
                            border-bottom: 0.5pt solid #cccccc;
                            margin-right: 3px;
                            padding-right: 3px;
                            font-size: 13px;
                            font-family: 'Arial' !important;
                        }

                        .borde1 {
                            border-top: 1px solid grey;
                            border-left: 1px solid grey;
                            border-right: 1px solid grey;
                            border-bottom: 1px solid grey;
                            margin-bottom: 3px;
                        }

                        .borde2 {
                            border-left: 1px solid grey;
                            border-right: 1px solid grey;
                            border-top: 1px solid grey;
                            margin: 3px;
                        }

                        .titulo {
                            font-size: 25px;
                            padding-top: 40px;
                        }
                    </style>
                    <div class="row mt0 mb0 " id="as_header" style="margin-top:-30px;">
                        <div class="col-4" style="text-align:right; margin-bottom:10px;font-size:12px;">
                            <img t-att-src="image_data_uri(o.env.user.company_id.logo)"
                                style="height: 120px; width: 260px; text-align: left; line-height: 8px;margin-right:0px;" /><br />

                        </div>
                        <div class="col-5">
                        <center>
                        <b style="padding-top:100px"><br/><br/><br/>
                           PREFACTURA
                        </b>
                        </center>
                        </div>

                        <div class="col-3">
                        <div style="text-align:center">
                            <img src="as_spectrocom_sales/static/description/certificado_iso.jpg"
                                style="height: 120px; width: 120px;" />
                        </div>
                        <div style="text-align:center">
                          Nro.  <span t-esc="o.id" /><br />

                        </div>
                        </div>


                    </div>
                    <div style="margin-top:-20px;margin-left:18px;margin-right:18px;">
                        <table width="100%" class="table table-light">
                            <br />
                            <tr>
                                <td style="text-align: left; font-size:12px; width:80%;line-height: 18px;">
                                    Santa Cruz
                                    <t t-if="o.as_fecha_prefactura">
                                        ,<span t-esc="o.as_get_date_literal(o.as_fecha_prefactura)" />
                                    </t>

                                </td>

                                <td style="text-align: left; font-size:12px; width:10%;line-height: 18px;">

                                </td>
                                <td style="text-align: right; font-size:12px; width:10%;line-height: 18px;">


                                </td>
                            </tr>

                            <tr>
                                <td style="text-align: left; font-size:12px; width:80%;line-height: 18px;">
                                    <span t-esc="o.partner_id.name" />

                                </td>

                                <td style="text-align: left; font-size:12px; width:10%;line-height: 18px;">

                                </td>
                                <td style="text-align: right; font-size:12px; width:10%;line-height: 18px;">


                                </td>
                            </tr>

                            <tr>
                                <td style="text-align: left; font-size:12px; width:80%;line-height: 18px;">

                                    <span t-esc="o.as_referencia_prefactura" />
                                </td>
                                <td style="text-align: left; font-size:12px; width:10%;line-height: 18px;">
                                    TC
                                </td>
                                <td style="text-align: right; font-size:12px; width:10%;line-height: 18px;">
                                    6.96

                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left; font-size:12px; width:80%;line-height: 18px;">
                                    <b><span t-esc="o.as_escritura_prefactura" /></b>
                                </td>
                                <!-- <td style="text-align: left; font-size:12px; width:10%;line-height: 18px;">
                                    O.T.
                                </td>
                                <td style="text-align: right; font-size:12px; width:10%;line-height: 18px;">
                                    <span t-esc="o.extraer_ot('campo_ot')" />

                                </td> -->
                            </tr>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="page" style="font-family: 'Arial' !important; ">
                        <style type="text/css">
                            .page {
                                margin: 0px;
                                padding: 0px;
                            }

                            .totales1 {
                                font-family: 'Arial' !important;
                                font-size: 25px;
                                font-weight: bold;
                                border-collapse: collapse;
                                border-top: solid;
                                border-width: 2pt
                            }

                            sale .totales2 {
                                font-family: 'Arial' !important;
                                font-size: 12px;
                                font-weight: bold;
                            }

                            .totales3 {
                                font-family: 'Arial' !important;
                                font-size: 25px;
                                font-weight: bold;
                                border-collapse: collapse;
                                border-top: solid;
                                border-bottom: solid;
                                border-width: 2pt
                            }

                            body {
                                font-family: 'Arial' !important;
                            }

                            .borde1 {
                                border: 1px solid grey;
                            }

                            .borde3 {
                                border-bottom: 1px solid grey;

                            }

                            .borde2 {
                                border: 1px solid grey;
                                border-radius: 8px 8px 8px 8px;
                                sale max-height: 2.5cm;
                                max-width: 2cm;
                            }

                            .borde_inferior {
                                margin-bottom: 5px;
                                margin-top: 5px;
                            }

                            .margen {
                                margin: 3px;
                            }

                            .tituloAzul {
                                font-size: 10;
                                text-align: center;
                                bottom: True;
                                top: True;
                                right: True;
                                left: True;
                                bold: True;
                                color: #ffffff;
                                background-color: #4682B4;
                            }
                        </style>
                        <div style="margin-left:18px;margin-right:18px;">
                            <table width="100%" id="header_table">
                                <thead>
                                    <tr>
                                        <td
                                            style="text-align: center; font-size:12px; width:4%;color: #fff;
                                        background-color:#4682B4;; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;vertical-align:middle;">
                                            <b>ITEM</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:6%;color: #fff;
                                        background-color:#4682B4;; text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;vertical-align: middle;">
                                            <b>CANT.</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:70%;color: #fff;
                                        background-color:#4682B4;; text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;vertical-align: middle;">
                                            <b>CONCEPTO</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:10%;color: #fff;
                                        background-color:#4682B4;; text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;vertical-align: middle;">
                                            <b>PRECIO UNIT.</b>
                                        </td>
                                        <td
                                            style="text-align: center; font-size:12px; width:10%;color: #fff;
                                        background-color:#4682B4;; text-wrap: True; margin-right: auto; margin-left: auto; border-color: black; border:1px solid black;line-height: 20px;vertical-align: middle;">
                                            <b>TOTAL</b>
                                        </td>
                                    </tr>
                                </thead>
                                <thead style='border:1px solid grey' id="body_table">
                                    <t t-set="weight" t-value="0.00" />
                                    <div t-foreach="o._lineas_ordenadas()" t-as="d" width="100%">
                                        <tr>
                                            <td
                                                style="text-align: center; font-size:12px; width:4%;text-wrap: True; margin-left: 10px; border-color: black; border:1px solid black; vertical-align: middle;">
                                                <t t-esc="d_index+1" />
                                            </td>

                                            <td
                                                style="text-align: center; font-size:12px; width:6%;text-wrap: True; margin-left: 10px; border-color: black; border:1px solid black; vertical-align: middle;">
                                                <t t-esc="'{:.0f}'.format(d.quantity)" style="padding:2px;" />
                                            </td>

                                            <td
                                                style="text-align: left; font-size:12px; width:70%; text-wrap: True;  border-color: black; border:1px solid black; margin-left:6px; vertical-align: middle;">
                                                <tspan style="padding:2px;" t-raw="str(d.as_descripcion).replace('\n','&lt;br/&gt;')" />
                                                <!-- <tspan t-esc="d.product_id.name" style="margin-left:6px;"/>
                                                <tspan t-esc="o.concatenar_proyecto('proyecto')" />
                                                <tspan t-esc="o.concatenar_ot('ot')" />
                                                <tspan t-esc="o.concatenar_materiales('material')" /> -->
                                            </td>

                                            <td
                                                style="text-align: right; font-size:12px; width:10%; text-wrap: True; border-color: black; border:1px solid black; vertical-align: middle;">
                                                <tspan t-esc="'{:20,.2f}'.format(d.price_unit)"
                                                    style="margin-right:6px;" />
                                            </td>

                                            <td
                                                style="text-align: right; font-size:12px; width:10%; text-wrap: True; ; border-color: black; border:1px solid black; vertical-align: middle;">
                                                <tspan t-esc="'{:20,.2f}'.format(d.quantity*d.price_unit)"
                                                    style="margin-right:6px;" />
                                            </td>

                                        </tr>
                                    </div>
                                    <div>
                                <tbody>
                                    <tr>
                                        <td colspan="4" style="text-align: right; font-size:12px; color: black;">

                                            <b style="margin-right:6px;">TOTAL Bs</b>
                                        </td>
                                        <td colspan="1" style="text-align: right; font-size:12px; color: black;">
                                            <t t-if="o.currency_id.name == 'BOB'">
                                                <b style="margin-right:6px;">
                                                    <t t-esc="'{:20,.2f}'.format(o.amount_total)" /></b>
                                            </t>
                                            <t t-if="o.currency_id.name != 'BOB'">
                                                <b style="margin-right:6px;">
                                                    <t t-esc="'{:20,.2f}'.format(o.amount_total*6.96)" /></b>
                                            </t>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="4" style="text-align: right; font-size:12px; color: black;">
                                            
                                                <b style="margin-right:6px;">TOTAL $us</b>
                                            
                                        </td>

                                        <td colspan="1" style="text-align: right; font-size:12px; color: black;">
                                            <t t-if="o.currency_id.name != 'BOB'">
                                                <b style="margin-right:6px;">
                                                    <t t-esc="'{:20,.2f}'.format(o.amount_total)" /></b>
                                            </t>
                                            <t t-if="o.currency_id.name == 'BOB'">
                                                <b style="margin-right:6px;">
                                                    <t t-esc="'{:20,.2f}'.format(o.amount_total/6.96)" /></b>
                                            </t>
                                        </td>
                                        <!-- me quedado en dolares y bolivianos sumatorias -->
                                    </tr>
                                </tbody>
                        </div>



                        </thead>


                        </table>
                        <br />


                    </div>
                    <div class="footer" style="font-family: Courier Prime !important;">
                        <style>
                            html {
                                margin: 0;
                            }

                            .parrafo {
                                font-size: 12px;
                                text-align: justify;
                                line-height: 18px;
                                background: #ccc;
                                padding: 5px;
                                line-height: 15px;
                            }

                            @font-face {
                                src: url('/as_spectrocom_sales/static/Courier Prime.ttf') format('truetype');
                                font-weight: normal;
                                font-style: normal;
                            }

                            .parrafo2 {
                                font-size: 12px;
                                text-align: justify;
                                line-height: 15px;
                            }

                            body {}

                            .letra {
                                font-size: 12px !important;
                            }

                            .letrafont {
                                font-size: 12px !important;
                                color: #8c8c8c;
                            }

                            .letrablue {

                                font-size: 12px !important;
                                color: #465f7a;
                            }

                            .class {
                                text-align: left:
                            }
                        </style>
                        <div style="font-size:14px !important;line-height: 15px">
                            <span style="margin-left:10px;" t-esc="o.sudo().extraer_informacion_usuario('nombre')" /><br />
                            <span style="margin-left:10px;" t-esc="o.sudo().extraer_informacion_usuario('puesto')" /><br />
                            <span style="margin-left:10px;" t-esc="o.extraer_telefono_usuario('telefono')" /><br />
                            <span style="margin-left:10px;" t-esc="o.extraer_correo_usuario('correo')" /><br />
                            <br />
                            <b>
                                <table width="100%">

                                    <tr>
                                        <td style="width:10%;color:#1C4484;text-align:center">
                                            SUCURSAL VILLAMONTES
                                        </td>
                                        <td style="width:10%;color:#1C4484;text-align:center">
                                            CENTRAL SANTA CRUZ
                                        </td>
                                    </tr>
                                    <tr>
                                        <td style="width:10%;text-align:center">
                                            Av. Heroes del Chaco<br />
                                            esq. Boqueron<br />
                                            telf. (591) 46724108<br />
                                        </td>
                                        <td style="width:10%;text-align:center">
                                            Av. Alemana c/Mapajo #31<br />
                                            Entre 3er Anillo Ext. e Int.<br />
                                            telf. (591) 33446687<br />
                                        </td>

                                    </tr>

                                </table>
                                <hr />

                            </b>
                        </div>
                    </div>
                    </div>
                </t>
            </t>
        </template>
        <template id="as_reporte_prefactura_pdf">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                    <t t-set="lang" t-value="o.partner_id.lang" />
                    <t t-call="as_spectrocom_sales.reporte_de_prefactura_pdf" t-lang="lang" />
                </t>
                <p style="page-break-after:always;" />
            </t>
        </template>
    </data>
</odoo>