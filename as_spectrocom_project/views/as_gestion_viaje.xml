<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="as_gestion_viaje_x" model="ir.ui.view">
            <field name="name">as.gestion.viaje.v</field>
            <field name="model">as.gestion.viaje</field>
            <field name="arch" type="xml">
                <tree string="Gestion viaje">
                    <field name="name" />
                </tree>
            </field>
        </record>

        <record id="as_tipo_platilla" model="ir.ui.view">
            <field name="name">as.gestion.viaje.v</field>
            <field name="model">as.gestion.viaje</field>
            <field name="arch" type="xml">
                <form string="Gestion de viaje">
                    <header>
                        <field name="as_state_viaje" widget="statusbar" statusbar_visible="draft,to_approval,approval" readonly="1" />
                        <field name="as_approval" invisible="True" />
                        <button name="button_change_state_viajes" type="object" string="Para Aprobar" class="oe_highlight" attrs="{'invisible': [('as_state_viaje', '!=', 'draft')]}" groups="as_spectrocom_project.group_aprove_viaje"/>
                        <button name="button_confirm_viaje" type="object" string="Aprobar" class="oe_highlight" attrs="{'invisible': [('as_state_viaje', '!=', 'to_approval')]}"/>
                        
                    </header>
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="name" placeholder="Nombre de Plantilla gestion de viaje" />
                            </h1>
                        </div>
                        <group col="4">
                            <notebook name='notebook'>
                                <page string="Gestion de viajes">
                                    <group>
                                        <group string="Datos del vehiculo" name="veihcle_info">
                                            <!-- <field name="marca" /> -->
                                            <field name="as_vehiculos" />
                                            <field name="tipo_vehiculo" />
                                            <field name="km_inicial" />
                                            <field name="nro_interno" />
                                            <field name="km_final" />
                                            <field name="nro_placa" />
                                            <field name="km_cambio_aceite" />
                                            <field name="color" />
                                            <field name="company_id"/>
                                            <field name="user_id" />
                                            <field name="partner_id" invisible="True"/>
                                        </group>
                                        <group string="Datos del conductor" name="conductor_info">
                                            <field name="conductor_h" />
                                            <field name="nro_licencia" />
                                            <field name="categoria" />
                                            <field name="venc_lc" />
                                            <field name="venc_md" />
                                        </group>
                                        <group string="Datos del viaje" name="tripp_info">
                                            <field name="motivo_viaje" />
                                            <field name="fecha_salida" />
                                            <field name="fecha_estimada" />
                                            <field name="lugar_partida" />
                                            <field name="lugar_destino" />
                                            <field name="ruta_plan" />
                                            <field name="acompanante" widget="radio" options="{'horizontal': true}" />
                                            <field name="nro_pasajeros" />
                                            <field name="nombre_acompanante" />
                                            <field name="tipo_cargas" />
                                        </group>
                                        <group name="tripp_info">
                                            <field name="as_worker_signature" widget="signature" />
                                        </group>
                                    </group>
                                </page>

                                <page string="Inspección del vehiculo antes del viaje">
                                    <group>
                                        <group string="Sistemas y elementos basicos" name="sistemas_info">
                                            <field name="sistema_encendido" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="direccion" widget="radio" options="{'horizontal': true}" />
                                            <field name="nivel_liquidacion" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="nivel_aceite" widget="radio" options="{'horizontal': true}" />
                                            <field name="sistema_enfriamiento" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="caja_cambio" widget="radio" options="{'horizontal': true}" />
                                            <field name="mangueras" widget="radio" options="{'horizontal': true}" />
                                            <field name="correas" widget="radio" options="{'horizontal': true}" />
                                            <field name="estado_bateria" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="aire_acondicionado" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="chapas" widget="radio" options="{'horizontal': true}" />
                                            <field name="estado_freno" widget="radio" options="{'horizontal': true}" />
                                            <field name="gato_llave" widget="radio" options="{'horizontal': true}" />
                                        </group>
                                        <group string="Estado general" name="veihcle_info">
                                            <field name="llantas" widget="radio" options="{'horizontal': true}" />
                                            <field name="luces" widget="radio" options="{'horizontal': true}" />
                                            <field name="luces_direccionales" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="luces_alta" widget="radio" options="{'horizontal': true}" />
                                            <field name="luces_freno" widget="radio" options="{'horizontal': true}" />
                                            <field name="luces_retroceso" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="baliza" widget="radio" options="{'horizontal': true}" />
                                            <field name="rompe_nieblas" widget="radio" options="{'horizontal': true}" />
                                            <field name="limpia_parabrisas" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="bocina" widget="radio" options="{'horizontal': true}" />
                                            <field name="espejos" widget="radio" options="{'horizontal': true}" />
                                            <field name="asientos" widget="radio" options="{'horizontal': true}" />
                                            <field name="chapero_pintura" widget="radio"
                                                options="{'horizontal': true}" />
                                        </group>
                                        <group string="Dispositivos de seguridad" name="dispositivos_info">
                                            <field name="cinternos_seguridad" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="conos" widget="radio" options="{'horizontal': true}" />
                                            <field name="extintor" widget="radio" options="{'horizontal': true}" />
                                            <field name="kit" widget="radio" options="{'horizontal': true}" />
                                            <field name="documentacion" widget="radio" options="{'horizontal': true}" />
                                            <field name="bocino_retroceso" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="radio_comunicacion" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="tacografo" widget="radio" options="{'horizontal': true}" />
                                            <field name="linterna" widget="radio" options="{'horizontal': true}" />
                                            <field name="pala" widget="radio" options="{'horizontal': true}" />
                                            <field name="cable_winche" widget="radio" options="{'horizontal': true}" />
                                            <field name="cable_corriente" widget="radio"
                                                options="{'horizontal': true}" />
                                            <field name="barra_antivuelco" widget="radio"
                                                options="{'horizontal': true}" />
                                            
                                        </group>

                                        <group name="firmas DOS">
                                        <field name="as_comentarios" />
                                            <field name="as_inspector" />
                                            <field name="as_cargo" />
                                            <field name="as_customer_signature_i" widget="signature" />
                                        </group>
                                    </group>
                                </page>
                                <page string="Analisis de peligros">
                                    <style type="text/css">
                                        .red {
                                            background: red;

                                        }

                                        .green {
                                            background: green;

                                        }
                                    </style>
                                    <group>
                                        <field name="distancia_recorrer" widget="radio"
                                            options="{'horizontal': true}" />
                                        <field name="clima" widget="radio" options="{'horizontal': true}" />
                                        <field name="ruta" widget="radio" options="{'horizontal': true}" />
                                        <field name="conocimiento_ruta" widget="radio" options="{'horizontal': true}" />
                                        <field name="comunicacio_disponible" widget="radio"
                                            options="{'horizontal': true}" />
                                        <field name="personas_por_vehiculo" widget="radio"
                                            options="{'horizontal': true}" />
                                        <field name="horas_viaje" widget="radio" options="{'horizontal': true}" />
                                        <field name="total" class="red" widget="badge"
                                            decoration-success="total &lt;= 16" decoration-danger="total &gt; 21"
                                            decoration-warning="total &gt; 16 and total &lt;= 21" />
                                        <field name="as_resultado" class="red" widget="badge"
                                            decoration-success="total &lt;= 16" decoration-danger="total &gt; 21"
                                            decoration-warning="total &gt; 16 and total &lt;= 21" />
                                    </group>

                                </page>
                            </notebook>
                        </group>
                    </sheet>
                    <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                    <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>
        <record id="as_plantilla_action_x" model="ir.actions.act_window">
            <field name="name">Gestion de viajes</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">as.gestion.viaje</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="as_gestion_viaje_x" />
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Haga clic aquí para empezar a crear su primer planilla de viaje.
                </p>
            </field>
        </record>

        <menuitem id="as_menu_gestion_viaje" parent="project.menu_project_report" action="as_plantilla_action_x"
            sequence="50" />

        <record id="as_boton_ruta" model="ir.ui.view">
        <field name="name">as.boton.ruta</field>
        <field name="model">as.gestion.viaje</field>
        <field name="inherit_id" ref="as_spectrocom_project.as_tipo_platilla" />
        <field name="arch" type="xml">
            <xpath expr="//form/header" position="inside">
                <button name="action_ruta" string="HOJA DE RUTA PDF" type="object" class="oe_highlight"/>
            </xpath>
        </field>
        </record>
        <report
        id="as_reporte_hoja_ruta"
        string="Hoja de Ruta (PDF)"
        model="as.gestion.viaje"
        report_type="qweb-pdf"
        name="as_spectrocom_project.as_hoja_ruta_pdf"
        file="as_spectrocom_project.as_hoja_ruta_pdf"
        menu="False"
      />
      <record id="as_hoja_de_ruta" model="report.paperformat">
        <field name="name">Reporte Hoja de Ruta PDF</field>
        <field name="default" eval="True" />
        <field name="format">custom</field>
        <field name="page_height">214</field>
        <field name="page_width">278</field>
        <field name="margin_top">20</field>
        <field name="margin_bottom">0</field>
        <field name="margin_left">7</field>
        <field name="margin_right">7</field>
        <field name="orientation">Portrait</field>
        <field name="header_spacing">20</field>
        <field name="report_ids" eval="[(4, ref('as_spectrocom_project.as_reporte_hoja_ruta'))]"/>
      </record>
    </data>
</odoo>